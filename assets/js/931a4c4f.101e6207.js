"use strict";(self.webpackChunktechdocs=self.webpackChunktechdocs||[]).push([[3696],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=p(n),h=o,d=u["".concat(l,".").concat(h)]||u[h]||m[h]||a;return n?r.createElement(d,s(s({ref:t},c),{},{components:n})):r.createElement(d,s({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,s[1]=i;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9411:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={slug:"axios interceptor post",title:"axios interceptor",authors:"faisal",tags:["react js","axios","axios interceptor"]},s="Axios Interceptors",i={permalink:"/techdocs/blog/axios interceptor post",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/Axios-Interceptors.md",source:"@site/blog/Axios-Interceptors.md",title:"axios interceptor",description:"What is Axios Interceptors?",date:"2023-07-23T10:40:04.000Z",formattedDate:"July 23, 2023",tags:[{label:"react js",permalink:"/techdocs/blog/tags/react-js"},{label:"axios",permalink:"/techdocs/blog/tags/axios"},{label:"axios interceptor",permalink:"/techdocs/blog/tags/axios-interceptor"}],readingTime:2.12,hasTruncateMarker:!1,authors:[{name:"Mohamed Faisal",title:"<React js | Javascript>",url:"https://sebastienlorber.com",imageURL:"https://raw.githubusercontent.com/fysal-dev/techdocs/main/blog/img/fysalnew.jpg",key:"faisal"}],frontMatter:{slug:"axios interceptor post",title:"axios interceptor",authors:"faisal",tags:["react js","axios","axios interceptor"]},nextItem:{title:"useRef",permalink:"/techdocs/blog/useRef post"}},l={authorsImageUrls:[void 0]},p=[{value:"What is Axios Interceptors?",id:"what-is-axios-interceptors",level:3},{value:"Why we need to use?",id:"why-we-need-to-use",level:3}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"what-is-axios-interceptors"},"What is Axios Interceptors?"),(0,o.kt)("p",null,"Whenever client make request to Backend, the ",(0,o.kt)("span",{class:"highlight"}," axios interceptors ")," will send an information(eg: token) before the request made ."),(0,o.kt)("p",null,"With the help of axios interceptor information, we can do some action in the backend based on our requirement"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"For example:")," If we are using ",(0,o.kt)("strong",{parentName:"p"},"JWT Token")," methodology in our applicaiton for user authentication, so whenever client made any request, the axios interceptor will send Token, along with other header information, we can validate the user is exists or not"),(0,o.kt)("h3",{id:"why-we-need-to-use"},"Why we need to use?"),(0,o.kt)("p",null,"Normally If we wants to send a ",(0,o.kt)("inlineCode",{parentName:"p"},"axios.post")," request, we have to add a following paramenters"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"url (base_url + page_url)"),(0,o.kt)("li",{parentName:"ul"},"parameters"),(0,o.kt)("li",{parentName:"ul"},"headers(which contains)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Authorization"),(0,o.kt)("li",{parentName:"ul"},"Content-Type"),(0,o.kt)("li",{parentName:"ul"},"Custom-headers")))),(0,o.kt)("p",null,"the below code is sample for post request."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='axios post request(without Interceptor)'",title:"'axios",post:!0,"request(without":!0,"Interceptor)'":!0},"const {data} = await axios\n    .post('https://httpbin.org/newpost', \n    {\n        firstName: 'Fred',\n        lastName: 'Flintstone',\n        orders: [1, 2, 3]\n    }, \n    {\n        headers: {\n        'Authorization': 'Bearer my-token'\n        'Content-Type': 'application/json',\n        }\n    })\n")),(0,o.kt)("p",null,"Just imagine, suppose if our application has more than 100 request, all the request has a common base_url = ",(0,o.kt)("inlineCode",{parentName:"p"},'"https://httpbin.org"'),", content-type = ",(0,o.kt)("inlineCode",{parentName:"p"},'"application/json"')," and everytime attach ",(0,o.kt)("inlineCode",{parentName:"p"},'"Token"')," along with header. these are all same code which is repeating in every request that we make."),(0,o.kt)("p",null,"suppose in future, if we wants to change our base_url from ",(0,o.kt)("inlineCode",{parentName:"p"},'"https://httpbin.org"')," to ",(0,o.kt)("inlineCode",{parentName:"p"},'"https://httpbin.en"'),", then we need to change in every place of request."),(0,o.kt)("p",null,"To solve this issue, we can make a basic setup at one time as axios interceptor. Then wehenever we need to make request, this axios interceptor instance will hold the information, it will send it to backend before make request."),(0,o.kt)("p",null," See the following code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Axios-Interceptor'",title:"'Axios-Interceptor'"},'import axios from "axios";\n\nconst token = localStorage.getItem(\'Token\');\nconst _AUTHORIZATION_TOKEN = (token)? `Bearer ${token}` : \'\';\n\nconst axiosInstance = axios.create({\n    baseURL: "https://httpbin.org"\n});\n\naxiosInstance.interceptors.request.use((request)=>{\n    request.headers.Authorization = _AUTHORIZATION_TOKEN\n    request.headers["Content-Type"]="application/json";\n    request.headers.myapp = \'my-app\'\n\n    return request\n}\n,(error) => {\n    return Promise.reject(error)\n})\n\naxiosInstance.interceptors.response.use((response)=> {\n    return response\n}, (error) => {\n    return Promise.reject(error)\n})\n\nexport default axiosInstance\n')),(0,o.kt)("p",null,"To make request, just import the ",(0,o.kt)("inlineCode",{parentName:"p"},"axiosInstance"),". pass the url(",(0,o.kt)("inlineCode",{parentName:"p"},'"/newPost"'),") as parameter but this time without base url(",(0,o.kt)("inlineCode",{parentName:"p"},'"https://httpbin.org"'),")"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"title='Axios request with Interceptor'",title:"'Axios",request:!0,with:!0,"Interceptor'":!0},"import axios from \"../AxiosInterceptor\";\n\nconst {data} = await axios\n    .post(\"/newpost\", \n    {\n        firstName: 'Fred',\n        lastName: 'Flintstone',\n        orders: [1, 2, 3]\n    })\n    .then(function (response) {\n      return response;\n    });\n")),(0,o.kt)("p",null,"Axios interceptor will take care of binding Base_url + page_url, then it will make request = ",(0,o.kt)("inlineCode",{parentName:"p"},'"https://httpbin.org/newPost"'),","),(0,o.kt)("p",null,"No more burder to add headers for every request. axios interceptor will take the responsible to attach along with each and every request."))}m.isMDXComponent=!0}}]);